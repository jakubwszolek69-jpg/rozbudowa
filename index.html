<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Kalkulator rozbudowy PV</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  label { display: block; margin-top: 10px; }
  input { padding: 5px; margin-top: 5px; width: 80px; }
  button { margin-top: 15px; padding: 10px 15px; }
  .result { margin-top: 20px; font-weight: bold; }
</style>
</head>
<body>
<h2>Kalkulator rozbudowy instalacji PV</h2>

<label>Moc istniejącej instalacji PV (kWp):
  <input type="number" id="pvPower" value="5" min="1" step="0.1">
</label>

<label>Pojemność magazynu energii (kWh, 5–50):
  <input type="number" id="batterySize" value="5" min="5" max="50" step="1">
</label>

<label>Ilość nowych paneli PV:
  <input type="number" id="newPanels" value="0" min="0" step="1">
</label>

<button onclick="calculate()">Oblicz koszt</button>

<div class="result" id="result"></div>

<script>
function calculate() {
    const pvPower = parseFloat(document.getElementById('pvPower').value);
    let batterySize = parseFloat(document.getElementById('batterySize').value);
    const newPanels = parseInt(document.getElementById('newPanels').value);

    // ograniczenia pojemności magazynu
    if (batterySize < 5) batterySize = 5;
    if (batterySize > 50) batterySize = 50;

    const inverterCost = pvPower * 2200; // 2200 zł/kWp
    const batteryCost = batterySize * 1500; // 1500 zł/kWh
    const panelsCost = newPanels * 500; // 500 zł za panel
    const totalCost = inverterCost + batteryCost + panelsCost;

    document.getElementById('result').innerHTML = `
      <p>Koszt wymiany falownika (${pvPower.toFixed(1)} kWp): ${inverterCost.toLocaleString()} PLN</p>
      <p>Koszt magazynu ${batterySize} kWh: ${batteryCost.toLocaleString()} PLN</p>
      <p>Koszt nowych paneli (${newPanels} szt.): ${panelsCost.toLocaleString()} PLN</p>
      <p><strong>Łączny koszt inwestycji: ${totalCost.toLocaleString()} PLN</strong></p>
    `;
}
</script>

</body>
</html>
